{"version":3,"sources":["components/Board.js","components/Settings.js","components/Home.js","components/About.js","App.js","serviceWorker.js","index.js"],"names":["game","Chess","orientations","Timer","props","class","style","time","color","Board","newPosition","orientation","Math","floor","random","randomGameIndex","PGNData","length","load_pgn","data","history","reset","randomMoveIndex","i","initMove","nextMove","lastFullMove","move","setState","fen","initMoveData","nextMoveData","nextMoveColor","setTimeout","makeInitMove","updateSquareStyling","state","undo","console","log","squareStyles","from","backgroundColor","to","onDrop","sourceSquare","targetSquare","piece","toUpperCase","answer","correctMoves","correct","incorrect","allowDrag","charAt","onAnimationEnd","timerCount","this","interval","setInterval","finalBoardProps","position","showNotation","calcWidth","callbackEnd","clearInterval","id","icon","whiteCircle","blackCircle","className","Component","Settings","onChangeOrientation","bind","onChangeNotation","event","target","value","callbackSettings","checked","onChange","type","name","defaultChecked","screenWidth","screenHeight","Home","currentState","handleStart","draggable","onClick","renderSwitch","display","About","href","App","basename","exact","path","component","React","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.d6078859.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport Chessboard from \"chessboardjsx\";\r\nimport * as Chess from 'chess.js';\r\nimport PGNData from '../PGN/outfile.json';\r\nimport { faCircle as blackCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faCircle as whiteCircle } from \"@fortawesome/free-regular-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport './Board.css';\r\n\r\nconst game = new Chess();\r\nconst orientations = ['white', 'black'];\r\n\r\nclass Board extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \r\n      fen: 'start', \r\n      randomGameIndex: 0, \r\n      randomMoveIndex: 0,\r\n      initMove: '',\r\n      initMoveData: {},\r\n      nextMove: '',\r\n      nextMoveData: {},\r\n      history: [],\r\n      nextMoveColor: '',\r\n      squareStyles: {},\r\n      answer: '',\r\n      correctMoves: 0,\r\n      time: 60,\r\n      timerCount: 0,\r\n      incorrect: false,\r\n      correct: false\r\n    }\r\n  }\r\n\r\n  /* ====================================== Lifecylcle Methods ====================================== */\r\n\r\n  componentDidMount() {\r\n    this.newPosition();\r\n    this.interval = setInterval(() => this.setState({ timerCount: this.state.timerCount+1 }), 1000); // Start timer\r\n    \r\n    // Call callbackEnd once timer stops\r\n    setTimeout(() => {\r\n      const finalBoardProps = {\r\n        position: this.state.fen,\r\n        squareStyles: this.state.squareStyles,\r\n        allowDrag: () => false , \r\n        showNotation: this.props.showNotation,\r\n        orientation: this.props.orientation === 'random' ? this.state.orientation : this.props.orientation,\r\n        calcWidth: this.props.calcWidth,\r\n      }\r\n      this.props.callbackEnd(\r\n        this.state.correctMoves,\r\n        finalBoardProps)\r\n    }, this.state.time * 1000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  /* ====================================== Component Methods ====================================== */\r\n\r\n  // Generate new board position\r\n  newPosition = () => {\r\n    let orientation = null;\r\n    if (this.props.orientation === 'random'){\r\n      orientation = orientations[Math.floor(Math.random() * 2)];\r\n    } else {\r\n      orientation = this.props.orientation;\r\n    }\r\n    let randomGameIndex = Math.floor(Math.random() * PGNData.length);\r\n    game.load_pgn(PGNData[randomGameIndex].data);\r\n    let history = game.history();\r\n\r\n    // In case game was not played\r\n    if(history.length <= 2) {\r\n      while(history.length <= 2){\r\n        randomGameIndex = Math.floor(Math.random() * PGNData.length);\r\n        game.load_pgn(PGNData[randomGameIndex].data);\r\n        history = game.history();\r\n      }\r\n    }\r\n    game.reset();\r\n\r\n    // Initial half move must be the opposite color of orientation. Initial move cannot be last half move\r\n    let randomMoveIndex = (orientation === 'white') ? \r\n      Math.floor(Math.random() *  Math.floor((history.length - 3) / 2)) * 2 + 1: \r\n      Math.floor(Math.random() *  Math.floor((history.length - 2) / 2)) * 2;\r\n    \r\n    // Do not use castles as move\r\n    if (history[randomMoveIndex+1] === 'O-O' || history[randomMoveIndex+1] === 'O-O-O') {\r\n        randomMoveIndex = (randomMoveIndex - 2) % history.length;\r\n    }\r\n\r\n    const initMove = history[randomMoveIndex];\r\n    const nextMove = history[randomMoveIndex+1];\r\n\r\n    // Save lastFullMove for defining the nextMoveColor state (ensures color and nextMove render at the same time)\r\n    let i;\r\n    let lastFullMove = {};\r\n      for (i = 0; i < (randomMoveIndex); i++) {\r\n        lastFullMove = game.move(history[i]);\r\n    }\r\n    \r\n    this.setState({ \r\n      fen: game.fen(), \r\n      randomGameIndex: randomGameIndex,\r\n      randomMoveIndex: randomMoveIndex,\r\n      initMove: initMove,\r\n      initMoveData: {},\r\n      nextMove: nextMove,\r\n      nextMoveData: {},\r\n      nextMoveColor: '',\r\n      history: history,\r\n      nextMoveColor: lastFullMove.color === 'w' ? 'White' : 'Black',\r\n      squareStyles: {},\r\n      answer: '',\r\n      orientation: orientation\r\n    });\r\n\r\n    setTimeout(() => this.makeInitMove(), 100);\r\n    setTimeout(() => this.updateSquareStyling(), 800);\r\n  }\r\n\r\n  // For initMove animation\r\n  makeInitMove = () => {\r\n    const initMoveData =  game.move(this.state.initMove);\r\n    const nextMoveData = game.move(this.state.nextMove);\r\n    game.undo();\r\n    this.setState({ fen: game.fen(), initMoveData: initMoveData, nextMoveData: nextMoveData });\r\n  }\r\n\r\n  // For initMove colors\r\n  updateSquareStyling = () => {\r\n    console.log(this.state);\r\n    let squareStyles = {};\r\n    squareStyles[this.state.initMoveData.from] = {backgroundColor: 'rgba(0, 255, 0, 0.3)'};\r\n    squareStyles[this.state.initMoveData.to] = {backgroundColor: 'rgba(0, 255, 0, 0.3)'};\r\n    this.setState({ squareStyles: squareStyles });\r\n  }\r\n\r\n  // Validate user move input\r\n  onDrop = ({ sourceSquare, targetSquare, piece }) => {\r\n    if (this.state.nextMoveData.from === sourceSquare \r\n       && this.state.nextMoveData.to === targetSquare\r\n       && (this.state.nextMoveData.color + this.state.nextMoveData.piece.toUpperCase()) === piece) {\r\n        game.move(this.state.nextMove); \r\n        this.setState({ \r\n          answer: 'correct', \r\n          fen: game.fen(), \r\n          correctMoves: this.state.correctMoves+1,\r\n          correct: true\r\n        });\r\n       } else if (sourceSquare === targetSquare) {\r\n        // Skip if piece is dropped onto original square\r\n       } else {\r\n         this.setState({ answer: 'incorrect', incorrect: true });\r\n       }\r\n  }\r\n\r\n  // Only allow correct colored pieces to be dragged\r\n  allowDrag = ({ piece }) => {\r\n    if (piece.charAt(0) === this.state.nextMoveData.color) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Wait for movePrompt animation to end\r\n  onAnimationEnd = () => {\r\n    if (this.state.correct) {\r\n      this.setState({ incorrect: false, correct: false });\r\n      this.newPosition();\r\n    }\r\n    this.setState({ incorrect: false, correct: false });\r\n  }\r\n\r\n  /* ====================================== Render Function ====================================== */\r\n\r\n  render() {\r\n    const incorrect = this.state.incorrect;\r\n    const correct = this.state.correct;\r\n\r\n    return (\r\n      <div>\r\n        <Timer time={this.state.time - this.state.timerCount} />\r\n        <Chessboard\r\n          position={this.state.fen} \r\n          squareStyles={this.state.squareStyles}\r\n          onDrop={this.onDrop}\r\n          allowDrag={this.allowDrag} \r\n          showNotation={this.props.showNotation} \r\n          orientation={this.props.orientation === 'random' ? this.state.orientation : this.props.orientation}\r\n          calcWidth={this.props.calcWidth}\r\n          />\r\n        <div \r\n        id='movePrompt' >\r\n          {this.state.nextMoveColor === 'White' ? <FontAwesomeIcon icon={whiteCircle} /> : <FontAwesomeIcon icon={blackCircle} />}   \r\n          <span> </span>\r\n          <span \r\n          onAnimationEnd={this.onAnimationEnd}\r\n          className={incorrect ? 'incorrect' : (correct ? 'correct' : '')}>\r\n            {this.state.nextMove}\r\n            </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction Timer(props) {\r\n  return (\r\n    <div class=\"timer-container\" style={props.time < 10 ? {color: 'red'} : {}}>\r\n      <div>{props.time}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default Board;","import React, { Component } from 'react';\r\nimport './Settings.css';\r\n\r\nclass Settings extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      orientation: 'white',\r\n      showNotation: false\r\n    };\r\n    this.onChangeOrientation = this.onChangeOrientation.bind(this);\r\n    this.onChangeNotation = this.onChangeNotation.bind(this);\r\n  }\r\n\r\n  onChangeOrientation(event) {\r\n    this.setState({ orientation: event.target.value }, () => {\r\n      this.props.callbackSettings(\r\n        this.state.orientation, \r\n        this.state.showNotation);\r\n    });\r\n  }\r\n\r\n  onChangeNotation(event) {\r\n    this.setState({ showNotation: event.target.checked }, () => {\r\n      this.props.callbackSettings(\r\n        this.state.orientation, \r\n        this.state.showNotation\r\n        );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"settingsContainer\" style={this.props.style} >\r\n        <div class=\"radio-group-container\" onChange={this.onChangeOrientation}>\r\n          <label class=\"radio-container\">White\r\n            <input type=\"radio\" value=\"white\" name=\"orientation\" defaultChecked /> \r\n            <span class=\"checkmark\"></span>\r\n          </label>\r\n          <label class=\"radio-container\">Black \r\n            <input type=\"radio\" value=\"black\" name=\"orientation\" /> \r\n            <span class=\"checkmark\"></span>\r\n          </label>\r\n          <label class=\"radio-container\">Random\r\n            <input type=\"radio\" value=\"random\" name=\"orientation\" /> \r\n            <span class=\"checkmark\"></span>\r\n          </label>\r\n        </div>\r\n\r\n        <div class=\"checkbox-group-container\">\r\n          <label class=\"checkbox-container\">Show Coordinates \r\n            <input type=\"checkbox\" onChange={this.onChangeNotation} /> \r\n            <span class=\"checkmark\"></span>\r\n          </label>\r\n        </div>   \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Settings;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Board from './Board';\r\nimport Settings from './Settings';\r\nimport Chessboard from 'chessboardjsx';\r\nimport './Home.css';\r\n\r\nconst calcWidth = ({ screenWidth, screenHeight }) => {\r\n  return (screenWidth || screenHeight) < 1800 ? ((screenWidth || screenHeight) < 550 ? screenWidth : 500) : 600;\r\n}\r\n  \r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentState: 'init',\r\n      orientation: 'white',\r\n      showNotation: false\r\n    }\r\n    this.handleStart = this.handleStart.bind(this);\r\n  }\r\n\r\n  renderSwitch(state) {\r\n    switch(state) {\r\n\r\n      case 'init': \r\n        return (\r\n          <div class=\"init-container\">\r\n            Chess Notation Trainer\r\n            <Chessboard \r\n            draggable={false}\r\n            position=\"start\" \r\n            orientation={this.state.orientation === 'random' ? 'white' : this.state.orientation} \r\n            showNotation={this.state.showNotation}\r\n            calcWidth={calcWidth}\r\n            />\r\n            <button class='start button' onClick={this.handleStart}>Start</button>\r\n            <Link to='/about'>\r\n              <button class='about button'>About</button>\r\n            </Link>\r\n          </div>\r\n        );\r\n\r\n      case 'active': \r\n        return (\r\n          <div>\r\n            <Board \r\n            callbackEnd={this.callbackEnd} \r\n            orientation={this.state.orientation} \r\n            showNotation={this.state.showNotation} \r\n            calcWidth={calcWidth} />\r\n          </div>\r\n        );\r\n\r\n      case 'ended': \r\n        return (\r\n          <div class=\"ended-container\" >\r\n            Score: {this.state.correctMoves} Moves\r\n            <Chessboard \r\n            {...this.state.finalBoardProps}\r\n            orientation={this.state.orientation === 'random' ? 'white' : this.state.orientation} \r\n            showNotation={this.state.showNotation} \r\n            calcWidth={calcWidth}\r\n            />\r\n            <button class='start button' onClick={this.handleStart}>Start</button>\r\n            <Link to='/about'>\r\n              <button class='about button'>About</button>\r\n            </Link>\r\n          </div>\r\n        );\r\n\r\n    }\r\n  }\r\n\r\n  handleStart(event) {\r\n    this.setState({ currentState: 'active' });\r\n  }\r\n\r\n  callbackEnd = (correctMoves, finalBoardProps) => {\r\n    this.setState({ \r\n      correctMoves: correctMoves, \r\n      finalBoardProps: finalBoardProps,\r\n      currentState: 'ended' });\r\n  }\r\n\r\n  callbackSettings = (orientation, showNotation) => {\r\n    this.setState({\r\n      orientation: orientation,\r\n      showNotation: showNotation\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.renderSwitch(this.state.currentState)}\r\n        <Settings \r\n        callbackSettings={this.callbackSettings} \r\n        style={{display: this.state.currentState === 'active' ? 'none' : 'block'}} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Chessboard from 'chessboardjsx';\r\nimport GithubCorner from 'react-github-corner';\r\nimport { faCircle as blackCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faCircle as whiteCircle } from \"@fortawesome/free-regular-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport './About.css';\r\nimport './Board.css';\r\nimport '../App.css';\r\n\r\nconst calcWidth = ({ screenWidth, screenHeight }) => {\r\n  return (screenWidth || screenHeight) < 1800 ? ((screenWidth || screenHeight) < 550 ? screenWidth : 500) : 600;\r\n}\r\n\r\nclass About extends Component {\r\n  render() {\r\n  return (\r\n    <div class=\"top-container\">\r\n      <GithubCorner href=\"https://github.com/mattjliu/Notation-Trainer\" />\r\n      <div class='button-container'>\r\n        <Link to='/'>\r\n          <button class='back-button'>Back</button>\r\n        </Link>\r\n      </div>\r\n      <div class='text-container'>\r\n        <p class='text'>\r\n          This is a simple app that I created to help chess players learn and practice algebraic notation. \r\n          The app will generate a position on the board and prompt you to make a given move.\r\n          You will see the <FontAwesomeIcon icon={whiteCircle} /> icon if it's white's turn to move \r\n          and the <FontAwesomeIcon icon={blackCircle} /> icon if it's black's turn.\r\n          For example, in the board below, the correct move is <span class='special-font'>Bb5</span>.\r\n        </p>\r\n      </div>\r\n      <div class='board-container'>\r\n        <Chessboard \r\n        draggable={false}\r\n        position=\"r1bqkbnr/pppp1ppp/2n5/4p3/4P3/5N2/PPPP1PPP/RNBQKB1R\"\r\n        calcWidth={calcWidth}\r\n        />\r\n      </div>\r\n      <div \r\n        id='movePrompt' >\r\n          <FontAwesomeIcon icon={whiteCircle} />\r\n          <span> </span>\r\n          <span>\r\n            Bb5\r\n          </span>\r\n      </div>\r\n      <div class='text-container'>\r\n        <p class='text'>\r\n          Your goal is to make as many correct moves as possible in 60 seconds. You can select \r\n          the <span class='special-font'>White</span> or <span class='special-font'>Black</span> options \r\n          to change the color of the prompted moves. This also changes the orientation of the board.\r\n          Selecting <span class='special-font'>Random</span> would make the board randomly alternate between white and black.\r\n          Checking the <span class='special-font'>Show Coordinates</span> option toggles the file and rank indicators on the board.\r\n        </p>\r\n\r\n        <p class='text'>\r\n          This app was created using <a href=\"https://reactjs.org/\">ReactJS</a> with the use \r\n          of <a href=\"https://github.com/willb335/chessboardjsx\">Chessboard.jsx</a> and <a href=\"https://github.com/jhlywa/chess.js\">chess.js</a>.\r\n          The positions generated from the board are real positions from world championship games. \r\n          The PGN files from those events were downloaded <a href=\"https://www.pgnmentor.com/files.html#world\">here</a>.\r\n          You can also view the source code at my <a href=\"https://github.com/mattjliu/Notation-Trainer\">github repository</a>.\r\n        </p>\r\n      </div>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default About;","import React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport './App.css';\nimport Home from './components/Home';\nimport About from './components/About';\n\nclass App extends React.Component {\n  render () {\n    return (\n      <div class=\"board-container\">\n        <HashRouter basename='/'>\n          <Route exact path='/' component={Home} />\n          <Route path='/about' component={About} />\n        </HashRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}